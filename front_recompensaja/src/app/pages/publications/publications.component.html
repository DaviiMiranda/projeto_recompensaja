<div class="publications-page">
  <div class="container mx-auto px-4 py-8">
    <!-- Header -->
    <div class="page-header">
      <h1 class="page-title">Publicações</h1>
      <p class="page-description">
        Acompanhe as atualizações e novidades dos projetos
      </p>
    </div>

    <!-- Filtros -->
    <div class="filters-section">
      <div class="filters-container">
        <!-- Busca -->
        <div class="filter-item filter-search">
          <label for="search" class="filter-label">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
            Buscar
          </label>
          <input 
            id="search"
            type="text" 
            [(ngModel)]="searchTerm"
            (ngModelChange)="onSearchChange()"
            placeholder="Buscar publicações..."
            class="filter-input"
          />
        </div>

        <!-- Categoria -->
        <div class="filter-item">
          <label for="categoria" class="filter-label">Categoria</label>
          <select 
            id="categoria"
            [(ngModel)]="selectedCategoria"
            (ngModelChange)="onCategoriaChange()"
            class="filter-select"
          >
            <option value="">Todas</option>
            <option *ngFor="let categoria of categorias()" [value]="categoria">
              {{ categoria }}
            </option>
          </select>
        </div>

        <!-- Projeto -->
        <div class="filter-item">
          <label for="projeto" class="filter-label">Projeto</label>
          <select 
            id="projeto"
            [(ngModel)]="selectedProjeto"
            (ngModelChange)="onProjetoChange()"
            class="filter-select"
          >
            <option value="">Todos</option>
            <option *ngFor="let projeto of projetos()" [value]="projeto.id">
              {{ projeto.titulo }}
            </option>
          </select>
        </div>

        <!-- Botão Limpar -->
        <button 
          *ngIf="searchTerm() || selectedCategoria() || selectedProjeto()"
          (click)="clearFilters()"
          class="clear-filters-btn"
        >
          Limpar filtros
        </button>
      </div>
    </div>

    <!-- Contador de Resultados -->
    <div class="results-count">
      <p>{{ filteredPublications().length }} publicação(ões) encontrada(s)</p>
    </div>

    <!-- Lista de Publicações -->
    <div class="publications-grid">
      <app-publication-card 
        *ngFor="let publication of filteredPublications()"
        [publication]="publication"
      />
    </div>

    <!-- Mensagem Vazia -->
    <div *ngIf="filteredPublications().length === 0" class="empty-state">
      <svg class="empty-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
      </svg>
      <h3 class="empty-title">Nenhuma publicação encontrada</h3>
      <p class="empty-description">
        Tente ajustar os filtros ou buscar por outros termos
      </p>
    </div>
  </div>
</div>
